name = 'bidxaagui-backend-worker'
main = "src/index.ts"
compatibility_date = "2023-12-01"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "bidxaagui-db"
database_id = "40b0f825-0275-4041-9bb9-36aa286bbe6a"

[dev]
port = 8787
local_protocol = "http"

# R2 Bucket binding
[[r2_buckets]]
binding = 'BUCKET'
bucket_name = 'bidxaagui-editions'
preview_bucket_name = 'bidxaagui-editions-preview'

[vars]
ENVIRONMENT = "production"
RESEND_FROM_EMAIL = "noreply@bidxaagui.com"
ADMIN_URL = "https://admin.bidxaagui.com"
FRONTEND_URL = "https://bidxaagui.com"
MAGIC_LINK_EXPIRATION_MINUTES = "15"
JWT_EXPIRATION_DAYS = "7"

# Development environment (use with --env dev)
[env.dev]
name = "bidxaagui-backend-worker-dev"

[env.dev.vars]
ENVIRONMENT = "development"
ADMIN_URL = "http://localhost:5173"
FRONTEND_URL = "http://localhost:3000"
